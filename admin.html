<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin - Aplikasi Adzan</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <!-- Cloudinary Upload Widget -->
  <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
  <style>
    :root {
      --primary-color: #005a31;
      --secondary-color: #f8f9fa;
      --container-width-desktop: 360px;
    }

    body {
      background-color: var(--secondary-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 15px;
    }

    /* Container untuk Desktop */
    .admin-container {
        max-width: var(--container-width-desktop);
        width: 100%;
        margin: 0 auto;
        padding: 15px;
        background-color: white;
        min-height: 100vh;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        position: relative; /* Tambahkan ini */
    }

    /* Container untuk Mobile */
    @media (max-width: 576px) {
      body {
        padding: 0;
        background-color: white;
      }
      
      .admin-container {
        max-width: 100%;
        min-height: 100vh;
        box-shadow: none;
        border-radius: 0;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }
    }

    /* Untuk tablet (lebar sedang) */
    @media (min-width: 577px) and (max-width: 768px) {
      .admin-container {
        max-width: 500px;
      }
    }

    .header {
      background-color: var(--primary-color);
      color: white;
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    
    .header img {
      max-height: 40px;
    }
    
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 20px;
    }
    
    /* Menu grid responsif untuk mobile */
    @media (max-width: 576px) {
      .menu-grid {
        gap: 10px;
      }
    }
    
    .menu-btn {
      height: 120px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      border: none;
      border-radius: 8px;
      background-color: #e9ecef;
      transition: all 0.3s;
    }
    
    .menu-btn:hover {
      background-color: var(--primary-color);
      color: white;
      transform: translateY(-5px);
    }
    
    .menu-btn i {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    
    .footer {
      margin-top: auto;
      padding: 10px;
      text-align: center;
      background-color: #f1f1f1;
      border-radius: 8px;
      font-size: 14px;
    }
    
    /* Modal responsif */
    .modal-content {
      max-height: 80vh;
      overflow-y: auto;
    }
    
    @media (max-width: 576px) {
      .modal-dialog {
        margin: 10px;
      }
    }
    
    .form-section {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #dee2e6;
    }
    
    .table-responsive {
      max-height: 300px;
      overflow-y: auto;
    }
    
    .cloudinary-btn {
      background-color: #3448c5;
      border-color: #3448c5;
      color: white;
    }
    
    .cloudinary-btn:hover {
      background-color: #2a3aa3;
      border-color: #2a3aa3;
      color: white;
    }
    
    .image-preview {
      max-width: 100%;
      max-height: 200px;
      margin-top: 10px;
      border-radius: 5px;
    }
    
    /* Style untuk tabel editable */
    .editable-cell {
      min-height: 40px;
      padding: 8px;
      border: 1px solid transparent;
      border-radius: 4px;
      transition: all 0.2s;
    }
    
    .editable-cell:focus {
      border-color: var(--primary-color);
      background-color: #f8fff8;
      outline: none;
    }
    
    .editable-cell:hover {
      background-color: #f8f9fa;
    }
    
    .logo-preview {
      border: 2px solid #dee2e6;
      border-radius: 8px;
      padding: 4px;
    }
    
    /* Dropzone style */
    #logoDropzone {
      border: 2px dashed #dee2e6;
      background-color: #f8f9fa;
      transition: all 0.3s;
    }
    
    #logoDropzone:hover {
      border-color: var(--primary-color);
      background-color: #f0fff0;
    }
    
    /* Tombol hapus logo */
    .btn-danger.position-absolute {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      padding: 0;
    }
    
    /* Style untuk input form data masjid */
    #namaMasjidInput, #alamatMasjidInput {
      border: 1px solid #dee2e6;
      border-radius: 4px;
      padding: 8px;
      width: 100%;
      transition: all 0.2s;
    }
    
    #namaMasjidInput:focus, #alamatMasjidInput:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 0.2rem rgba(0, 90, 49, 0.25);
      outline: none;
    }
    
    /* Tombol simpan */
    #saveDataMasjidBtn {
      min-width: 150px;
    }
  </style>
</head>
<body>
  <div class="admin-container">
    <!-- Header -->
    <div class="header d-flex align-items-center">
      <img src="icon.png" alt="Logo" class="me-2">
      <h4 class="mb-0">Remote</h4>
    </div>
<!-- Menu Grid - TAMBAHKAN div wrapper -->
<div class="menu-content">
    <!-- Menu Grid -->
    <div class="menu-grid">
      <!-- Data Masjid -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#dataMasjidModal">
        <i class="bi bi-house-door"></i>
        <span>Data Masjid</span>
      </button>

      <!-- Data Media -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#dataMediaModal">
        <i class="bi bi-image"></i>
        <span>Data Media</span>
      </button>

      <!-- Countdown -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#countdownMenuModal">
        <i class="bi bi-clock"></i>
        <span>Countdown</span>
      </button>

      <!-- Text -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#textMenuModal">
        <i class="bi bi-text-paragraph"></i>
        <span>Text</span>
      </button>

      <!-- Quran -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#quranModal">
        <i class="bi bi-journal-bookmark"></i>
        <span>Qur'an</span>
      </button>

      <!-- Hari Islam -->
      <button class="menu-btn" data-bs-toggle="modal" data-bs-target="#hariIslamModal">
        <i class="bi bi-calendar-event"></i>
        <span>Hari Islam</span>
      </button>
    </div>
</div>
    <!-- Footer -->
    <div class="footer">
      089601875023 | RH
    </div>
  </div>

  <!-- Modal Data Masjid -->
  <div class="modal fade" id="dataMasjidModal" tabindex="-1" aria-labelledby="dataMasjidModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dataMasjidModalLabel">Data Masjid</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-dark">
                <tr>
                  <th>Nama Masjid</th>
                  <th>Alamat</th>
                  <th>Logo</th>
                </tr>
              </thead>
              <tbody id="dataMasjidTable">
                <!-- Data akan dimuat di sini -->
              </tbody>
            </table>
          </div>
          
          <!-- Dropzone untuk upload logo baru -->
          <div id="logoDropzone" class="mt-3 border rounded p-3 text-center" style="display: none;">
            <p class="mb-2">Drop gambar di sini atau klik untuk upload logo baru</p>
            <button type="button" class="btn cloudinary-btn" id="uploadNewLogoBtn">
              <i class="bi bi-cloud-upload"></i> Upload Logo Baru
            </button>
            <input type="hidden" id="newLogoUrl">
          </div>

          <!-- TAMBAHAN: Tombol Simpan -->
          <div class="mt-3 text-end">
            <button type="button" class="btn btn-primary" id="saveDataMasjidBtn">
              <i class="bi bi-check-lg"></i> Simpan Perubahan
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Data Media -->
  <div class="modal fade" id="dataMediaModal" tabindex="-1" aria-labelledby="dataMediaModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dataMediaModalLabel">Data Media</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="dataMediaForm">
            <div class="mb-3">
              <label for="jenisMedia" class="form-label">Jenis Media</label>
              <select class="form-select" id="jenisMedia" required>
                <option value="gambar">Gambar</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Media</label>
              <div>
                <button type="button" class="btn cloudinary-btn" id="uploadMediaBtn">
                  <i class="bi bi-cloud-upload"></i> Upload Gambar
                </button>
                <input type="hidden" id="mediaUrl">
              </div>
              <!-- TAMBAHAN: Keterangan ukuran gambar -->
              <div class="form-text text-danger">*Gambar maksimal 3MB</div>
              <div id="mediaPreviewContainer" class="mt-2" style="display: none;">
                <img id="mediaPreview" class="image-preview" src="" alt="Preview Media">
                <button type="button" class="btn btn-sm btn-danger mt-1" id="removeMediaBtn">Hapus Media</button>
              </div>
            </div>
            
            <!-- TAMBAHAN: Preview gambar yang sudah ada -->
            <div class="mb-3">
              <label class="form-label">Gambar yang Tersimpan (Maksimal 5)</label>
              <div id="savedMediaList" class="row g-2">
                <!-- Gambar akan dimuat di sini -->
              </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Menu Countdown -->
  <div class="modal fade" id="countdownMenuModal" tabindex="-1" aria-labelledby="countdownMenuModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="countdownMenuModalLabel">Menu Countdown</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-grid gap-2">
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#adzanManualModal">Data Adzan Manual</button>
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#countdownAdzanModal">Countdown Adzan</button>
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#countdownIqamahModal">Countdown Iqamah</button>
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#blackOverlayModal">Black Overlay</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Adzan Manual -->
  <div class="modal fade" id="adzanManualModal" tabindex="-1" aria-labelledby="adzanManualModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="adzanManualModalLabel">Data Adzan Manual</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="adzanManualForm">
            <div class="mb-3">
              <label for="imsak" class="form-label">Imsak</label>
              <input type="time" class="form-control" id="imsak" required>
            </div>
            <div class="mb-3">
              <label for="shubuh" class="form-label">Shubuh</label>
              <input type="time" class="form-control" id="shubuh" required>
            </div>
            <div class="mb-3">
              <label for="syuruq" class="form-label">Syuruq</label>
              <input type="time" class="form-control" id="syuruq" required>
            </div>
            <div class="mb-3">
              <label for="dzuhur" class="form-label">Dzuhur</label>
              <input type="time" class="form-control" id="dzuhur" required>
            </div>
            <div class="mb-3">
              <label for="ashar" class="form-label">Ashar</label>
              <input type="time" class="form-control" id="ashar" required>
            </div>
            <div class="mb-3">
              <label for="maghrib" class="form-label">Maghrib</label>
              <input type="time" class="form-control" id="maghrib" required>
            </div>
            <div class="mb-3">
              <label for="isya" class="form-label">Isya</label>
              <input type="time" class="form-control" id="isya" required>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Countdown Adzan -->
  <div class="modal fade" id="countdownAdzanModal" tabindex="-1" aria-labelledby="countdownAdzanModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="countdownAdzanModalLabel">Countdown Adzan</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="countdownAdzanForm">
            <div class="mb-3">
              <label for="isyaAdzan" class="form-label">Isya (menit)</label>
              <input type="number" class="form-control" id="isyaAdzan" min="1" required>
            </div>
            <div class="mb-3">
              <label for="shubuhAdzan" class="form-label">Shubuh (menit)</label>
              <input type="number" class="form-control" id="shubuhAdzan" min="1" required>
            </div>
            <div class="mb-3">
              <label for="dzuhurAdzan" class="form-label">Dzuhur (menit)</label>
              <input type="number" class="form-control" id="dzuhurAdzan" min="1" required>
            </div>
            <div class="mb-3">
              <label for="asharAdzan" class="form-label">Ashar (menit)</label>
              <input type="number" class="form-control" id="asharAdzan" min="1" required>
            </div>
            <div class="mb-3">
              <label for="maghribAdzan" class="form-label">Maghrib (menit)</label>
              <input type="number" class="form-control" id="maghribAdzan" min="1" required>
            </div>
            <div class="mb-3">
              <label for="jumatAdzan" class="form-label">Jumat (menit)</label>
              <input type="number" class="form-control" id="jumatAdzan" min="1" required>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Countdown Iqamah -->
  <div class="modal fade" id="countdownIqamahModal" tabindex="-1" aria-labelledby="countdownIqamahModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="countdownIqamahModalLabel">Countdown Iqamah</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="countdownIqamahForm">
            <div class="mb-3">
              <label for="isyaIqamah" class="form-label">Isya (menit)</label>
              <input type="number" class="form-control" id="isyaIqamah" min="1" required>
            </div>
            <div class="mb-3">
              <label for="shubuhIqamah" class="form-label">Shubuh (menit)</label>
              <input type="number" class="form-control" id="shubuhIqamah" min="1" required>
            </div>
            <div class="mb-3">
              <label for="dzuhurIqamah" class="form-label">Dzuhur (menit)</label>
              <input type="number" class="form-control" id="dzuhurIqamah" min="1" required>
            </div>
            <div class="mb-3">
              <label for="asharIqamah" class="form-label">Ashar (menit)</label>
              <input type="number" class="form-control" id="asharIqamah" min="1" required>
            </div>
            <div class="mb-3">
              <label for="maghribIqamah" class="form-label">Maghrib (menit)</label>
              <input type="number" class="form-control" id="maghribIqamah" min="1" required>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Black Overlay -->
  <div class="modal fade" id="blackOverlayModal" tabindex="-1" aria-labelledby="blackOverlayModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="blackOverlayModalLabel">Black Overlay</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="blackOverlayForm">
            <div class="mb-3">
              <label for="isyaOverlay" class="form-label">Isya (menit)</label>
              <input type="number" class="form-control" id="isyaOverlay" min="1" required>
            </div>
            <div class="mb-3">
              <label for="shubuhOverlay" class="form-label">Shubuh (menit)</label>
              <input type="number" class="form-control" id="shubuhOverlay" min="1" required>
            </div>
            <div class="mb-3">
              <label for="dzuhurOverlay" class="form-label">Dzuhur (menit)</label>
              <input type="number" class="form-control" id="dzuhurOverlay" min="1" required>
            </div>
            <div class="mb-3">
              <label for="asharOverlay" class="form-label">Ashar (menit)</label>
              <input type="number" class="form-control" id="asharOverlay" min="1" required>
            </div>
            <div class="mb-3">
              <label for="maghribOverlay" class="form-label">Maghrib (menit)</label>
              <input type="number" class="form-control" id="maghribOverlay" min="1" required>
            </div>
            <div class="mb-3">
              <label for="jumatOverlay" class="form-label">Jumat (menit)</label>
              <input type="number" class="form-control" id="jumatOverlay" min="1" required>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Menu Text -->
  <div class="modal fade" id="textMenuModal" tabindex="-1" aria-labelledby="textMenuModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="textMenuModalLabel">Menu Text</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-grid gap-2">
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#runningTextModal">Running Text</button>
            <button class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#teksTambahanModal">Teks Tambahan</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Running Text -->
  <div class="modal fade" id="runningTextModal" tabindex="-1" aria-labelledby="runningTextModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="runningTextModalLabel">Running Text</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="runningTextForm">
            <div id="runningTextInputs">
              <div class="mb-3">
                <label for="text1" class="form-label">Text 1</label>
                <input type="text" class="form-control" id="text1" required>
              </div>
            </div>
            <button type="button" class="btn btn-secondary mb-3" id="addTextBtn">Tambah Text</button>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Teks Tambahan -->
  <div class="modal fade" id="teksTambahanModal" tabindex="-1" aria-labelledby="teksTambahanModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="teksTambahanModalLabel">Teks Tambahan</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- HAPUS TABEL DAN TOMBOL TAMBAH -->
          <div class="alert alert-info">
            <p class="mb-0">Teks tambahan saat ini:</p>
            <div id="currentTeksTambahan" class="mt-2">
              <!-- Data teks tambahan akan dimuat di sini -->
            </div>
          </div>
          <button class="btn btn-primary w-100" data-bs-toggle="modal" data-bs-target="#teksTambahanFormModal">
            Edit Teks Tambahan
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Form Teks Tambahan -->
  <div class="modal fade" id="teksTambahanFormModal" tabindex="-1" aria-labelledby="teksTambahanFormModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="teksTambahanFormModalLabel">Teks Tambahan</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="teksTambahanForm">
            <!-- Hapus input hidden id karena tidak diperlukan lagi -->
            <div class="mb-3">
              <label for="judulTeks" class="form-label">Judul</label>
              <input type="text" class="form-control" id="judulTeks" required>
            </div>
            <div class="mb-3">
              <label for="keteranganTeks" class="form-label">Keterangan</label>
              <textarea class="form-control" id="keteranganTeks" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Quran -->
  <div class="modal fade" id="quranModal" tabindex="-1" aria-labelledby="quranModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="quranModalLabel">Ayat & Hadits</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Jenis</th>
                  <th>Tentang</th>
                  <th>Isi</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody id="quranTable">
                <!-- Data akan diisi dinamis -->
              </tbody>
            </table>
          </div>
          <button class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#quranFormModal">Tambah</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Form Quran -->
  <div class="modal fade" id="quranFormModal" tabindex="-1" aria-labelledby="quranFormModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="quranFormModalLabel">Tambah/Edit Ayat/Hadits</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="quranForm">
            <input type="hidden" id="quranId">
            <div class="mb-3">
              <label for="jenisQuran" class="form-label">Jenis</label>
              <select class="form-select" id="jenisQuran" required>
                <option value="">Pilih...</option>
                <option value="Ayat">Ayat</option>
                <option value="Hadits">Hadits</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="tentangQuran" class="form-label">Tentang</label>
              <input type="text" class="form-control" id="tentangQuran" required>
            </div>
            <div class="mb-3">
              <label for="isiQuran" class="form-label">Isi</label>
              <textarea class="form-control" id="isiQuran" rows="4" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Hari Islam -->
  <div class="modal fade" id="hariIslamModal" tabindex="-1" aria-labelledby="hariIslamModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="hariIslamModalLabel">Hari Islam</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="table-responsive">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Hari Islam</th>
                  <th>Tanggal Hijriyah</th>
                  <th>Pesan</th>
                  <th>Tanggal Masehi</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody id="hariIslamTable">
                <!-- Data akan diisi dinamis -->
              </tbody>
            </table>
          </div>
          <button class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#hariIslamFormModal">Tambah</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Form Hari Islam -->
  <div class="modal fade" id="hariIslamFormModal" tabindex="-1" aria-labelledby="hariIslamFormModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="hariIslamFormModalLabel">Tambah/Edit Hari Islam</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="hariIslamForm">
            <input type="hidden" id="hariId">
            <div class="mb-3">
              <label for="namaHari" class="form-label">Hari Islam</label>
              <input type="text" class="form-control" id="namaHari" required>
            </div>
            <div class="mb-3">
              <label for="tanggalHijriyah" class="form-label">Tanggal Hijriyah</label>
              <input type="text" class="form-control" id="tanggalHijriyah" required>
            </div>
            <div class="mb-3">
              <label for="pesanHari" class="form-label">Pesan</label>
              <textarea class="form-control" id="pesanHari" rows="3" required></textarea>
            </div>
            <div class="mb-3">
              <label for="tanggalMasehi" class="form-label">Tanggal Masehi</label>
              <input type="date" class="form-control" id="tanggalMasehi" required>
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast untuk notifikasi -->
  <div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto">Notifikasi</strong>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toastMessage">
        Data berhasil disimpan!
      </div>
    </div>
  </div>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // URL Apps Script
    const appsScriptUrl = "https://script.google.com/macros/s/AKfycbzR8JDaHWZOoLgh4YUMMGhHDSlCMMs0JN-v63UFEO1bRkkBYGHthayF36pLR3XXttYzkQ/exec";

    // Konfigurasi Cloudinary - GANTI DENGAN KONFIGURASI ANDA
    const cloudinaryConfig = {
      cloudName: 'djlomdcw2', // Ganti dengan cloud name Anda
      uploadPreset: 'presetImgMasjid' // Ganti dengan upload preset Anda
    };

    // Inisialisasi Cloudinary Upload Widget
    function initCloudinaryWidget(buttonId, previewId, urlInputId, previewContainerId, removeButtonId, autoSaveCallback = null) {
        const myWidget = cloudinary.createUploadWidget({
            cloudName: cloudinaryConfig.cloudName,
            uploadPreset: cloudinaryConfig.uploadPreset,
            multiple: false,
            maxFiles: 1,
            clientAllowedFormats: ['jpg', 'jpeg', 'png', 'gif', 'webp'],
            maxFileSize: 3000000,
            styles: {
                palette: {
                    window: "#FFFFFF",
                    sourceBg: "#F4F4F5",
                    windowBorder: "#90a0b3",
                    tabIcon: "#005a31",
                    inactiveTabIcon: "#69778A",
                    menuIcons: "#005a31",
                    link: "#005a31",
                    action: "#8F5DA5",
                    inProgress: "#0194c7",
                    complete: "#53b9a6",
                    error: "#c43737",
                    textDark: "#000000",
                    textLight: "#FFFFFF"
                }
            }
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                const imageUrl = result.info.secure_url;
                document.getElementById(urlInputId).value = imageUrl;
                
                // Tampilkan preview jika ada
                if (previewId && document.getElementById(previewId)) {
                    document.getElementById(previewId).src = imageUrl;
                }
                if (previewContainerId && document.getElementById(previewContainerId)) {
                    document.getElementById(previewContainerId).style.display = 'block';
                }
                
                // Auto-save callback jika disediakan
                if (autoSaveCallback && typeof autoSaveCallback === 'function') {
                    autoSaveCallback();
                }
                
                showToast('Gambar berhasil diupload!');
            }
            
            if (error) {
                console.error('Upload error:', error);
                showToast('Gagal mengupload gambar');
            }
        });

        // Event listener untuk tombol upload
        if (buttonId && document.getElementById(buttonId)) {
            document.getElementById(buttonId).addEventListener('click', function() {
                myWidget.open();
            }, false);
        }

        // Event listener untuk tombol hapus
        if (removeButtonId && document.getElementById(removeButtonId)) {
            document.getElementById(removeButtonId).addEventListener('click', function() {
                if (urlInputId && document.getElementById(urlInputId)) {
                    document.getElementById(urlInputId).value = '';
                }
                if (previewContainerId && document.getElementById(previewContainerId)) {
                    document.getElementById(previewContainerId).style.display = 'none';
                }
            });
        }
    }

    // Fungsi untuk menampilkan toast
    function showToast(message, type = 'success') {
        const toastEl = document.getElementById('liveToast');
        const toastBody = document.getElementById('toastMessage');
        toastBody.textContent = message;
        
        // Set background color berdasarkan type
        if (type === 'error') {
            toastEl.classList.remove('bg-success');
            toastEl.classList.add('bg-danger');
        } else {
            toastEl.classList.remove('bg-danger');
            toastEl.classList.add('bg-success');
        }
        
        const toast = new bootstrap.Toast(toastEl);
        toast.show();
    }

    // Event listener untuk tombol tambah text
    document.getElementById('addTextBtn').addEventListener('click', function() {
      const container = document.getElementById('runningTextInputs');
      const count = container.children.length + 1;
      
      if (count <= 3) {
        const newInput = document.createElement('div');
        newInput.className = 'mb-3';
        newInput.innerHTML = `
          <label for="text${count}" class="form-label">Text ${count}</label>
          <input type="text" class="form-control" id="text${count}">
        `;
        container.appendChild(newInput);
        
        if (count === 3) {
          this.style.display = 'none';
        }
      }
    });

    // Fungsi untuk mengirim data form ke Apps Script
    async function submitForm(formData, type, closeModal = true) {
      try {
        const response = await fetch(appsScriptUrl, {
          method: 'POST',
          mode: 'no-cors',
          body: JSON.stringify({...formData, type})
        });
        
        showToast('Data berhasil disimpan!');
        
        // Hanya tutup modal jika closeModal = true
        if (closeModal) {
          const modal = bootstrap.Modal.getInstance(document.querySelector('.modal.show'));
          if (modal) modal.hide();
        }
        
        return true;
      } catch (error) {
        console.error('Error:', error);
        showToast('Terjadi kesalahan saat menyimpan data', 'error');
        return false;
      }
    }

    // Event listener untuk form Data Media
    document.getElementById('dataMediaForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        JenisMedia: document.getElementById('jenisMedia').value,
        Url: document.getElementById('mediaUrl').value || ''
      };
      submitForm(formData, 'datamedia');
    });

    // Event listener untuk form Adzan Manual
    document.getElementById('adzanManualForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Imsak: document.getElementById('imsak').value,
        Shubuh: document.getElementById('shubuh').value,
        Syuruq: document.getElementById('syuruq').value,
        Dzuhur: document.getElementById('dzuhur').value,
        Ashar: document.getElementById('ashar').value,
        Maghrib: document.getElementById('maghrib').value,
        Isya: document.getElementById('isya').value
      };
      submitForm(formData, 'adzanmanual');
    });

    // Event listener untuk form Countdown Adzan
    document.getElementById('countdownAdzanForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Isya: document.getElementById('isyaAdzan').value,
        Shubuh: document.getElementById('shubuhAdzan').value,
        Dzuhur: document.getElementById('dzuhurAdzan').value,
        Ashar: document.getElementById('asharAdzan').value,
        Maghrib: document.getElementById('maghribAdzan').value,
        Jumat: document.getElementById('jumatAdzan').value
      };
      submitForm(formData, 'adzan');
    });

    // Event listener untuk form Countdown Iqamah
    document.getElementById('countdownIqamahForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Isya: document.getElementById('isyaIqamah').value,
        Shubuh: document.getElementById('shubuhIqamah').value,
        Dzuhur: document.getElementById('dzuhurIqamah').value,
        Ashar: document.getElementById('asharIqamah').value,
        Maghrib: document.getElementById('maghribIqamah').value
      };
      submitForm(formData, 'iqamah');
    });

    // Event listener untuk form Black Overlay
    document.getElementById('blackOverlayForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Isya: document.getElementById('isyaOverlay').value,
        Shubuh: document.getElementById('shubuhOverlay').value,
        Dzuhur: document.getElementById('dzuhurOverlay').value,
        Ashar: document.getElementById('asharOverlay').value,
        Maghrib: document.getElementById('maghribOverlay').value,
        Jumat: document.getElementById('jumatOverlay').value
      };
      submitForm(formData, 'blackoverlay');
    });

    // Event listener untuk form Running Text
    document.getElementById('runningTextForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const inputs = document.getElementById('runningTextInputs').children;
      const texts = [];
      
      for (let i = 0; i < inputs.length; i++) {
        const input = inputs[i].querySelector('input');
        if (input && input.value) {
          texts.push(input.value);
        }
      }
      
      const formData = {
        Text1: texts[0] || '',
        Text2: texts[1] || '',
        Text3: texts[2] || ''
      };
      
      submitForm(formData, 'runningtext');
    });

    // Fungsi untuk mengambil data dari spreadsheet
    async function fetchData(type) {
      try {
        const response = await fetch(`${appsScriptUrl}?type=${type}`);
        return await response.json();
      } catch (error) {
        console.error(`Error fetching ${type}:`, error);
        return [];
      }
    }

    // Fungsi untuk memuat data masjid ke tabel
    async function loadDataMasjid() {
      try {
        const response = await fetch(`${appsScriptUrl}?type=datamasjid`);
        const data = await response.json();
        const tableBody = document.getElementById('dataMasjidTable');
        
        tableBody.innerHTML = `
          <tr>
            <td>
              <input type="text" class="form-control" id="namaMasjidInput" value="${data.NamaMasjid || ''}" placeholder="Masukkan nama masjid">
            </td>
            <td>
              <textarea class="form-control" id="alamatMasjidInput" rows="2" placeholder="Masukkan alamat masjid">${data.Alamat || ''}</textarea>
            </td>
            <td>
              ${data.Logo ? `
                <div class="position-relative d-inline-block">
                  <img src="${data.Logo}" alt="Logo Masjid" class="logo-preview" style="max-height: 80px; max-width: 150px;">
                  <button type="button" class="btn btn-sm btn-danger position-absolute top-0 end-0" onclick="removeLogo()" style="transform: translate(30%, -30%);">
                    <i class="bi bi-x"></i>
                  </button>
                </div>
              ` : `
                <div class="text-center">
                  <p class="text-muted mb-2">Belum ada logo</p>
                  <button type="button" class="btn cloudinary-btn btn-sm" id="uploadInitialLogoBtn">
                    <i class="bi bi-cloud-upload"></i> Upload Logo
                  </button>
                </div>
              `}
            </td>
          </tr>
        `;
        
        // Inisialisasi upload logo
        initMasjidLogoUpload();
        
      } catch (error) {
        console.error('Error loading data masjid:', error);
        showToast('Gagal memuat data masjid');
      }
    }

    // Fungsi untuk menyimpan data masjid (manual dengan tombol)
    async function saveDataMasjid() {
      try {
        const data = {
          NamaMasjid: document.getElementById('namaMasjidInput').value.trim(),
          Alamat: document.getElementById('alamatMasjidInput').value.trim()
        };
        
        // Tambahkan logo jika ada
        const logoUrl = document.getElementById('newLogoUrl').value;
        if (logoUrl) {
          data.Logo = logoUrl;
        }
        
        if (!data.NamaMasjid) {
          showToast('Nama masjid harus diisi', 'error');
          return;
        }
        
        if (!data.Alamat) {
          showToast('Alamat masjid harus diisi', 'error');
          return;
        }
        
        await submitForm(data, 'datamasjid');
        
        // Reset new logo URL setelah berhasil disimpan
        document.getElementById('newLogoUrl').value = '';
        document.getElementById('logoDropzone').style.display = 'none';
        
        // Reload data untuk menampilkan logo baru
        loadDataMasjid();
        
      } catch (error) {
        console.error('Error saving data masjid:', error);
        showToast('Gagal menyimpan data masjid');
      }
    }

    // Fungsi untuk menghapus logo
    function removeLogo() {
      if (confirm('Apakah Anda yakin ingin menghapus logo?')) {
        const data = {
          NamaMasjid: document.getElementById('namaMasjidInput').value,
          Alamat: document.getElementById('alamatMasjidInput').value,
          Logo: '' // Kosongkan logo
        };
        
        // Tampilkan dropzone untuk upload logo baru
        document.getElementById('logoDropzone').style.display = 'block';
        
        // Simpan perubahan (tanpa logo)
        submitForm(data, 'datamasjid', false);
        
        // Reload data setelah beberapa detik
        setTimeout(() => {
          loadDataMasjid();
        }, 1000);
      }
    }

    // Fungsi untuk inisialisasi upload logo
    function initMasjidLogoUpload() {
      // Upload logo awal
      if (document.getElementById('uploadInitialLogoBtn')) {
        initCloudinaryWidget(
          'uploadInitialLogoBtn',
          null,
          'newLogoUrl',
          null,
          null
        );
      }
      
      // Upload logo baru (setelah hapus)
      initCloudinaryWidget(
        'uploadNewLogoBtn',
        null,
        'newLogoUrl',
        null,
        null
      );
    }

    // Event listener untuk tombol simpan data masjid
    document.getElementById('saveDataMasjidBtn').addEventListener('click', function() {
      saveDataMasjid();
    });

    // Event listener untuk modal Data Masjid
    document.getElementById('dataMasjidModal').addEventListener('show.bs.modal', function() {
      loadDataMasjid();
    });

    // Fungsi untuk memuat data ke tabel
    async function loadTableData(type, tableId, columns) {
      const data = await fetchData(type);
      const tableBody = document.getElementById(tableId);
      tableBody.innerHTML = '';
      
      data.forEach((item, index) => {
        const row = document.createElement('tr');
        
        columns.forEach(col => {
          const cell = document.createElement('td');
          cell.textContent = item[col] || '';
          row.appendChild(cell);
        });
        
        // Tambah kolom aksi
        const actionCell = document.createElement('td');
        actionCell.innerHTML = `
          <button class="btn btn-sm btn-warning" onclick="editItem('${type}', ${index})">Edit</button>
          <button class="btn btn-sm btn-danger" onclick="deleteItem('${type}', ${index})">Hapus</button>
        `;
        row.appendChild(actionCell);
        
        tableBody.appendChild(row);
      });
    }

    // Fungsi untuk memuat dan menampilkan gambar yang sudah disimpan
    async function loadSavedMedia() {
      try {
        const data = await fetchData('datamedia');
        const container = document.getElementById('savedMediaList');
        container.innerHTML = '';
        
        // Batasi hanya 5 gambar terbaru
        const limitedData = data.slice(0, 5);
        
        limitedData.forEach((item, index) => {
          if (item.Url) {
            const col = document.createElement('div');
            col.className = 'col-6 col-md-4';
            col.innerHTML = `
              <div class="card">
                <img src="${item.Url}" class="card-img-top" style="height: 100px; object-fit: cover;" alt="Media ${index + 1}">
                <div class="card-body p-2">
                  <small class="card-text d-block">${item.JenisMedia}</small>
                  <button type="button" class="btn btn-sm btn-danger w-100" onclick="deleteMedia(${index})">Hapus</button>
                </div>
              </div>
            `;
            container.appendChild(col);
          }
        });
        
        // Tampilkan pesan jika tidak ada gambar
        if (limitedData.length === 0) {
          container.innerHTML = '<div class="col-12"><p class="text-muted text-center">Belum ada gambar</p></div>';
        }
      } catch (error) {
        console.error('Error loading saved media:', error);
      }
    }

    // Fungsi untuk memuat data teks tambahan
    async function loadTeksTambahan() {
      try {
        const data = await fetchData('teksTambahan');
        const container = document.getElementById('currentTeksTambahan');
        
        if (data && data.length > 0) {
          const teks = data[0]; // Ambil data pertama (satu-satunya)
          container.innerHTML = `
            <strong>${teks.Judul || '-'}</strong>
            <p class="mb-0">${teks.Keterangan || '-'}</p>
          `;
          
          // Isi form dengan data yang ada
          document.getElementById('judulTeks').value = teks.Judul || '';
          document.getElementById('keteranganTeks').value = teks.Keterangan || '';
        } else {
          container.innerHTML = '<p class="text-muted mb-0">Belum ada teks tambahan</p>';
          // Kosongkan form
          document.getElementById('judulTeks').value = '';
          document.getElementById('keteranganTeks').value = '';
        }
      } catch (error) {
        console.error('Error loading teks tambahan:', error);
      }
    }

    // Update event listener untuk modal teks tambahan
    document.getElementById('teksTambahanModal').addEventListener('show.bs.modal', function() {
      loadTeksTambahan();
    });

    // Fungsi untuk menghapus media
    async function deleteMedia(index) {
      if (confirm('Apakah Anda yakin ingin menghapus gambar ini?')) {
        try {
          // Karena Apps Script kita belum support delete media, kita akan implementasi sederhana
          // dengan mengirim request ke endpoint yang sama
          await fetch(appsScriptUrl, {
            method: 'POST',
            mode: 'no-cors',
            body: JSON.stringify({ 
              type: 'deleteMedia', 
              index: index 
            })
          });
          
          showToast('Gambar berhasil dihapus');
          loadSavedMedia(); // Refresh list
        } catch (error) {
          console.error('Error deleting media:', error);
          showToast('Gagal menghapus gambar');
        }
      }
    }

    // Fungsi untuk mengedit item
    function editItem(type, index) {
      // Implementasi edit sesuai dengan type
      console.log(`Edit ${type} dengan index ${index}`);
    }

    // Fungsi untuk menghapus item
    function deleteItem(type, index) {
      if (confirm('Apakah Anda yakin ingin menghapus data ini?')) {
        // Implementasi hapus sesuai dengan type
        console.log(`Hapus ${type} dengan index ${index}`);
      }
    }

    // Event listener untuk form Teks Tambahan
    document.getElementById('teksTambahanForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Judul: document.getElementById('judulTeks').value,
        Keterangan: document.getElementById('keteranganTeks').value
      };
      
      // HAPUS ID KARENA SELALU UPDATE DATA YANG SAMA
      submitForm(formData, 'tekstambahan');
    });

    // Event listener untuk form Quran
    document.getElementById('quranForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        Jenis: document.getElementById('jenisQuran').value,
        Tentang: document.getElementById('tentangQuran').value,
        Isi: document.getElementById('isiQuran').value
      };
      
      if (document.getElementById('quranId').value) {
        formData.id = document.getElementById('quranId').value;
      }
      
      submitForm(formData, 'ayathadits');
    });

    // Event listener untuk form Hari Islam
    document.getElementById('hariIslamForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = {
        'Hari Islam': document.getElementById('namaHari').value,
        'Tanggal Hijriyah': document.getElementById('tanggalHijriyah').value,
        'Pesan Teks': document.getElementById('pesanHari').value,
        'Gregorian': document.getElementById('tanggalMasehi').value
      };
      
      if (document.getElementById('hariId').value) {
        formData.id = document.getElementById('hariId').value;
      }
      
      submitForm(formData, 'hariislam');
    });

    // Muat data saat modal dibuka
    document.addEventListener('DOMContentLoaded', function() {
      // Inisialisasi Cloudinary Widgets
      initCloudinaryWidget(
        'uploadLogoBtn', 
        'logoPreview', 
        'logoUrl', 
        'logoPreviewContainer', 
        'removeLogoBtn'
      );
      
      initCloudinaryWidget(
        'uploadMediaBtn', 
        'mediaPreview', 
        'mediaUrl', 
        'mediaPreviewContainer', 
        'removeMediaBtn'
      );

      // Event listener untuk modal Teks Tambahan
      document.getElementById('teksTambahanModal').addEventListener('show.bs.modal', function() {
        loadTableData('teksTambahan', 'teksTambahanTable', ['Judul', 'Keterangan']);
      });
      
      // Event listener untuk modal Quran - VERSI DETAIL
      document.getElementById('quranModal').addEventListener('show.bs.modal', function() {
        loadQuranTable();
      });

      // Event listener untuk modal Hari Islam - VERSI DETAIL  
      document.getElementById('hariIslamModal').addEventListener('show.bs.modal', function() {
        loadHariIslamTable();
      });

      // Event listener untuk modal data Media Modal
      document.getElementById('dataMediaModal').addEventListener('show.bs.modal', function() {
        loadSavedMedia();
      });
    });

    // Fungsi khusus untuk tabel Quran/Hadits
    async function loadQuranTable() {
      const data = await fetchData('ayatHadits');
      const tableBody = document.getElementById('quranTable');
      tableBody.innerHTML = '';
      
      data.forEach((item, index) => {
        const row = document.createElement('tr');
        
        // Kolom Jenis
        const jenisCell = document.createElement('td');
        jenisCell.textContent = item.Jenis || '';
        row.appendChild(jenisCell);
        
        // Kolom Tentang
        const tentangCell = document.createElement('td');
        tentangCell.textContent = item.Tentang || '';
        row.appendChild(tentangCell);
        
        // Kolom Isi (dipendekkan)
        const isiCell = document.createElement('td');
        const isiText = item.Isi || '';
        if (isiText.length > 40) {
          isiCell.textContent = isiText.substring(0, 40) + '..............';
          isiCell.title = isiText; // Tooltip teks lengkap
          isiCell.style.cursor = 'help';
        } else {
          isiCell.textContent = isiText;
        }
        row.appendChild(isiCell);
        
        // Kolom Aksi
        const actionCell = document.createElement('td');
        actionCell.innerHTML = `
          <button class="btn btn-sm btn-warning" onclick="editItem('ayatHadits', ${index})">Edit</button>
          <button class="btn btn-sm btn-danger" onclick="deleteItem('ayatHadits', ${index})">Hapus</button>
        `;
        row.appendChild(actionCell);
        
        tableBody.appendChild(row);
      });
    }

    // Fungsi khusus untuk tabel Hari Islam
    async function loadHariIslamTable() {
      const data = await fetchData('hariIslam');
      const tableBody = document.getElementById('hariIslamTable');
      tableBody.innerHTML = '';
      
      data.forEach((item, index) => {
        const row = document.createElement('tr');
        
        // Kolom Hari Islam
        const hariCell = document.createElement('td');
        hariCell.textContent = item['Hari Islam'] || '';
        row.appendChild(hariCell);
        
        // Kolom Tanggal Hijriyah
        const hijriyahCell = document.createElement('td');
        hijriyahCell.textContent = item['Tanggal Hijriyah'] || '';
        row.appendChild(hijriyahCell);
        
        // Kolom Pesan Teks (dipendekkan)
        const pesanCell = document.createElement('td');
        const pesanText = item['Pesan Teks'] || '';
        if (pesanText.length > 30) {
          pesanCell.textContent = pesanText.substring(0, 30) + '..............';
          pesanCell.title = pesanText; // Tooltip teks lengkap
          pesanCell.style.cursor = 'help';
        } else {
          pesanCell.textContent = pesanText;
        }
        row.appendChild(pesanCell);
        
        // Kolom Tanggal Masehi
        const masehiCell = document.createElement('td');
        masehiCell.textContent = item['Tanggal Masehi'] || '';
        row.appendChild(masehiCell);
        
        // Kolom Aksi
        const actionCell = document.createElement('td');
        actionCell.innerHTML = `
          <button class="btn btn-sm btn-warning" onclick="editItem('hariIslam', ${index})">Edit</button>
          <button class="btn btn-sm btn-danger" onclick="deleteItem('hariIslam', ${index})">Hapus</button>
        `;
        row.appendChild(actionCell);
        
        tableBody.appendChild(row);
      });
    }
  </script>
</body>
</html>
